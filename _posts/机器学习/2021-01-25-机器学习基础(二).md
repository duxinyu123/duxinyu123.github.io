---
layout:     post                    # 使用的布局（不需要改）
title:      机器学习基础(二)    				# 标题 		  
subtitle:   Jupyter Notebook、Matplotlib	 #副标题
date:       2021-01-25              # 时间
author:     新宇                     # 作者
header-img: img/post-bg-2015.jpg    #这篇文章标题背景图片
catalog: true                       # 是否归档
tags:                               #标签
    - 机器学习
---
# 一、Jupyter Notebook

## 1. 介绍 
Jupyter项目是一个非盈利的开源项目，源于2014年的ipython项目，因为它逐渐发展为支持跨所有编程语言的交互式数据科学和科学计算

- Jupyter Notebook，原名IPython Notbook，是IPython的加强网页版，一个开源Web应用程序 
- 名字源自Julia、Python 和 R(数据科学的三种开源语言) 
- 是一款程序员和科学工作者的编程/文档/笔记/展示软件 
- .ipynb文件格式是用于计算型叙述的JSON文档格式的正式规范

## 2. 快捷键
- 常用快捷键： 
	- shift + enter 执行本单元代码，并跳转到下一单元
	- ctrl + enter 执行本单元代码，留在本单元
- 命令模式:按ESC进入
	- Y ，cell切换到Code模式
	- M ，cell切换到Markdown模式 
	- A ，在当前cell的上面添加cell 
	- B ，在当前cell的下面添加cell
- 其他(了解)
	- 双击D :删除当前cell
	- Z ，回退
	- L ，为当前cell加上行号 
	- Ctrl+Shift+P ，对话框输入命令直接运行
	- 快速跳转到首个cell， Crtl+Home
	- 快速跳转到最后一个cell，Crtl+End 
- 编辑模式:按Enter进入
	- 补全代码:变量、方法后跟 Tab键
	- 为一行或多行代码添加/取消注释: Ctrl+/ (Mac:CMD+/) 
- 其他(了解):
	- 多光标操作: Ctrl键点击鼠标 (Mac:CMD+点击鼠标) 
	- 回退: Ctrl+Z (Mac:CMD+Z)
	- 重做: Ctrl+Y (Mac:CMD+Y)

## 3. 配置默认存储路径
```sh
# 首先在命令行窗口使用下面的命令生成并找到配置文件的位置:

jupyter notebook --generate-config
# 去掉261行的注释符#号，并修改c.NotebookApp.notebook_dir为自己指定的文件夹即可

c.NotebookApp.notebook_dir = '/Users/xxxx/jupyter-notebook-code'

# 重启jupyter notebook，即可发现，不管是在哪个地方启动jupyter notebook，它打开的都是 我们指定好的那个目录位置。
```

## 4. 使用Jupyter拓展功能
```sh
# 如果使用的是虚拟环境，主环境和虚拟环境都要安装jupyter ，和对应的扩展

# 1.一次执行下面的命令 pip install jupyter

python -m pip install jupyter_contrib_nbextensions
jupyter contrib nbextension install --user --skip-running-check

# 2.上述安装没问题的话，在主环境启动jupyter notebook，并在显示的页面上可以看到对应的拓展配 置选项卡

# 如下图

# 3.如果你勾选了autopep8，自动规范代码功能，需要安装依赖包

pip install autopep8
```
拓展选项卡：
![](https://tva1.sinaimg.cn/large/008eGmZEly1gmzqj0vpqwj31a00p0dqo.jpg)

# 二、Matplotlib
## 1. 概念
- 是专门用于开发2D图表(包括3D图表),以渐进、交互式方式实现数据可视化
- 能将数据进行可视化,更直观的呈现 
- 使数据更加客观、更具说服力

## 2. 基础绘图功能
![](https://tva1.sinaimg.cn/large/008eGmZEly1gmzv45mp6xj31ku0nywk3.jpg)

```python
import matplotlib.pyplot as plt import random
from pylab import mpl

# 设置显示中文字体 

mpl.rcParams["font.sans-serif"] = ["SimHei"] 
# 设置正常显示符号 

mpl.rcParams["axes.unicode_minus"] = False
# 0.准备数据

x = range(60)
y_shanghai = [random.uniform(15, 18) for i in x]
# 1.创建画布

plt.figure(figsize=(20, 8), dpi=100)
# 2.绘制图像 plt.plot(x, y_shanghai)

# 2.1 添加x,y轴刻度

# 构造x,y轴刻度标签

x_ticks_label = ["11点{}分".format(i) for i in x] 
y_ticks = range(40)
# 刻度显示: 在传递进去的第一个参数必须是数字,不能是字符串,如果是字符串吗,需要进行替换操作

plt.xticks(x[::5], x_ticks_label[::5]) 
plt.yticks(y_ticks[::5])
# 2.2 添加网格显示

plt.grid(True, linestyle="--", alpha=0.5)
# 2.3 添加描述信息

plt.xlabel("时间")
plt.ylabel("温度") 
plt.title("中午11点--12点某城市温度变化图", fontsize=20)
# 2.4 图像保存 (注意:plt.show()会释放figure资源，如果在显示图像之后保存图片将只能保存空图片)

plt.savefig("./test.png")
# 3.图像显示 

plt.show()
```

## 3. 如何显示中文刻度
![](https://tva1.sinaimg.cn/large/008eGmZEly1gmzv5fxpo1j30l00jeq4v.jpg)

## 4. 绘制多行/列图像
```python
# 0.准备数据

x = range(60)
y_shanghai = [random.uniform(15, 18) for i in x] 
y_beijing = [random.uniform(1, 5) for i in x]
# 1.创建画布

fig, axes = plt.subplots(nrows=1, ncols=2, figsize=(20, 8), dpi=100)
# 2.绘制图像

axes[0].plot(x, y_shanghai, label="上海")
axes[1].plot(x, y_beijing, color="r", linestyle="--", label="北京")
# 2.1 添加x,y轴刻度

# 构造x,y轴刻度标签

x_ticks_label = ["11点{}分".format(i) for i in x] 
y_ticks = range(40)
# 刻度显示

axes[0].set_xticks(x[::5]) 
axes[0].set_yticks(y_ticks[::5]) 
axes[0].set_xticklabels(x_ticks_label[::5]) 
axes[1].set_xticks(x[::5]) 
axes[1].set_yticks(y_ticks[::5]) 
axes[1].set_xticklabels(x_ticks_label[::5])
# 2.2 添加网格显示

axes[0].grid(True, linestyle="--", alpha=0.5) 
axes[1].grid(True, linestyle="--", alpha=0.5)
# 2.3 添加描述信息

axes[0].set_xlabel("时间")
axes[0].set_ylabel("温度") 
axes[0].set_title("中午11点--12点某城市温度变化图", fontsize=20) 
axes[1].set_xlabel("时间")
axes[1].set_ylabel("温度") 
axes[1].set_title("中午11点--12点某城市温度变化图", fontsize=20)
# # 2.4 图像保存 

plt.savefig("./test.png")
# # 2.5 添加图例

axes[0].legend(loc=0) 
axes[1].legend(loc=0)
# 3.图像显示 

plt.show()
```

## 5. 绘制sin(x)
```python
import numpy as np
# 0.准备数据

x = np.linspace(-10, 10, 1000) 
y = np.sin(x)
# 1.创建画布

plt.figure(figsize=(20, 8), dpi=100)
# 2.绘制函数图像 

plt.plot(x, y)
# 2.1 添加网格显示 

plt.grid()
# 3.显示图像 

plt.show()
```


## 6. 常见图形绘制
> 折线图、散点图、柱状图、直方图、饼图

### 1. 散点图绘制

```python
 # 0.准备数据
    
x = [225.98, 247.07, 253.14, 457.85, 241.58, 301.01, 20.67, 288.64,
163.56, 120.06, 207.83, 342.75, 147.9 , 53.06, 224.72, 29.51, 21.61, 483.21, 245.25, 399.25, 343.35]
y = [196.63, 203.88, 210.75, 372.74, 202.41, 247.61, 24.9 , 239.34, 140.32, 104.15, 176.84, 288.23, 128.79, 49.64, 191.74, 33.1 ,
30.74, 400.02, 205.35, 330.64, 283.45] 
# 1.创建画布

plt.figure(figsize=(20, 8), dpi=100) 
# 2.绘制散点图

plt.scatter(x, y)
# 3.显示图像 

plt.show()
```

### 2. 柱状图绘制
```python
# 0.准备数据

# 电影名字

movie_name = ['雷神3:诸神黄昏','正义联盟','东方快车谋杀案','寻梦环游记','全球风暴','降魔传','追捕','七十七天','密战','狂兽','其它']

# 横坐标

x = range(len(movie_name))
# 票房数据

y = [73853,57767,22354,15969,14839,8725,8716,8318,7916,6764,52222]
# 1.创建画布

plt.figure(figsize=(20, 8), dpi=100)
# 2.绘制柱状图

plt.bar(x, y, width=0.5, color=['b','r','g','y','c','m','y','k','c','g','b'])
# 2.1b修改x轴的刻度显示 

plt.xticks(x, movie_name)
# 2.2 添加网格显示 

plt.grid(linestyle="--", alpha=0.5)
# 2.3 添加标题 

plt.title("电影票房收入对比")
# 3.显示图像 

plt.show()

```

### 3. 其他图参考
[matplotlib官网](https://matplotlib.org/index.html)

- 折线图：能够显示数据的变化趋势，反映事物的变化情况。(变化) plt.plot()
- 散点图：判断变量之间是否存在数量关联趋势,展示离群点(分布规律) plt.scatter()
- 柱状图：绘制连离散的数据,能够一眼看出各个数据的大小,比较数据之间的差别。(统计/对比) plt.bar(x, width, align="center")
- 直方图：绘制连续性的数据展示一组或者多组数据的分布状况(统计) plt.hist(x, bins)
- 饼图：用于表示不同分类的占比情况，通过弧度大小来对比各种分类 plt.pie(x, labels, autopct, colors)



