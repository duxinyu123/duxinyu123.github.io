---
layout:     post                    # 使用的布局（不需要改）
title:      OpenCV 			    # 标题 
subtitle:   	    # 副标题
date:       2021-03-10              # 时间
author:     新宇                     # 作者
header-img: img/post-bg-2015.jpg    #这篇文章标题背景图片
catalog: true                       # 是否归档
tags:                               # 标签
    - CV
---
> OpenCV是应用广泛的开源图像处理库

# 一、OpenCV简介
## 1. 图像概念
![](https://tva1.sinaimg.cn/large/008eGmZEly1goejkbgg1zj314g0u0qv6.jpg)

- 图像
	- 概念：
		- 图像是人类视觉的基础，是自然景物的客观反映，是人类认识世界和人类本身的重要源泉；
		- “图”是物体反射或透射光的分布，
		- “像“是人的 视觉系统所接受的图在人脑中所形版的印象或认识
	- 分类：
		- 模拟图像(已经完全摒弃)
		- 数字图像

### 1.1 数字图像的表示

- 图像的分类：
	- 二值图像
		- 一幅二值图像的二维矩阵仅由0、1两个值构成，“0”代表黑色，“1”代白色。
	- 灰度图
		- 每个像素只有一个采样颜色的图像，这类图像通常显示为从最暗黑色到最亮的白色的灰度。
		- 我们平常接触的图像都是8位数图像，包含0~255灰度，其中0，代表最黑， 1，表示最白。
	- 彩色图
		- 每个像素通常是由红(R)、绿(G)、蓝(B)三个分量来表示的，分量介于(0，255)。


## 2. OpenCV介绍
- OpenCV是计算机视觉的开源库
	- 优势: 
		- 支持多种编程语言
		- 跨平台 
		- 活跃的开发团队 
		- 丰富的API
	- 安装方式:
		- 需要python3.6.8，可以先创建虚拟环境：
			- conda create -n opencv python=3.6.8
		- 由于一些经典的算法被申请了版权，新版本有很大的限制，所以选用3.4.3以下的版本（这里如果指定了虚拟环境，不要使用pip3）
			- pip install opencv-python==3.4.2.17
		- 利用SIFT和SURF等进行特征提取
			- pip install opencv-contrib-python==3.4.2.17


### 2.1 显示图像
```python
import numpy as np
import cv2 as cv
import matplotlib.pyplot as plt
# 1 读取图像

## -1：imread按解码得到的方式读入图像

## 0：imread按单通道的方式读入图像，即灰白图像

## 1：imread按三通道方式读入图像，即彩色图像 

img = cv.imread('./img/gulinazha.jpeg', 1)

# 2 显示图像

# 2.1 利用opencv展示图像

# cv.imshow('image', img)

# 2.2 在matplotplotlib中展示图像

## img[:, :, ::-1] 图像读出来的三个张量，高宽以及RGB

plt.imshow(img[:, :, ::-1])
plt.title('dilireba')
plt.xticks([])
plt.yticks([])
plt.show()
k = cv.waitKey(0)

# # 3 保存图像

cv.imwrite('messigray.png', img)
```

### 2.2 绘制图形
```python
import numpy as np
import cv2 as cv
import matplotlib.pyplot as plt
# 1 创建一个空白的图像

img = np.zeros((512,512,3), np.uint8)
# 2 绘制图形

cv.line(img,(0,0),(511,511),(255,0,0),10) 
cv.rectangle(img,(384,0),(510,128),(0,255,0),3) 
cv.circle(img,(447,63), 63, (0,0,255), -1)
font = cv.FONT_HERSHEY_SIMPLEX
cv.putText(img,'OpenCV',(10,500), font, 4,(255,255,255),2,cv.LINE_AA) 
# 3 图像展示
## 通道值需要反转，由BGR转为RGB
plt.imshow(img[:,:,::-1])
plt.title('匹配结果'), plt.xticks([]), plt.yticks([])
plt.show()
```