---
layout:     post                    # 使用的布局（不需要改）
title:      Python网络编程    		# 标题 
subtitle:    						#副标题
date:       2021-01-07              # 时间
author:     新宇                     # 作者
header-img: img/post-bg-2015.jpg    #这篇文章标题背景图片
catalog: true                       # 是否归档
tags:                               #标签
    - Python
---

# 一、网络
## 1. 网络的定义
信息传递和共享虚拟平台

## 2. ip
网络设备的唯一编号
ip分类
- ipv4
- ipv6:可编号的网络设备数目大

## 3.ip和域名的关系
域名解析
www.baidu.com<==>35.156.69.79

## 4. ip相关命令
ifconfig
ping 

## 5.端口和端口号
端口：数据传输的通道

端口号：端口的编号
0-65535
分类：
- 知名端口号: 0-1023 , 不可占用，已经分配给了特定的服务，例如 22 80 等
- 动态端口号: 1024-65535 , 程序员可以绑定，没有绑定会自动分配

## 6.socket
网络通讯的工具
- tcp
- udp

## 7.tcp
**面向连接的、可靠的、基于字节流**的传输层通信协议

1. 三次握手机制：
![](https://tva1.sinaimg.cn/large/008eGmZEly1gmf4pqgk6gj31300jswhl.jpg)

2. 可靠性：
- 采用发送应答机制
- 超时重传
- 错误校验
- 流量控制和阻塞管理

3. 客户端请求流程：
![](https://tva1.sinaimg.cn/large/008eGmZEly1gmf5h125xzj30my0t477a.jpg)

## 8.编码转换

```python
# 编码
str.encode(encoding=‘utf-8’)
# 解码
str.decode(encoding=‘utf-8’)
```

## 9.socket客户端和服务端的实现

1. 客户端实现

```python
import socket

if __name__ == '__main__':
    # AF_INET 代表使用ipv4
    # SOCK_STREAM表示基于TCP协议

    client = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    # 这里绑定IP和端口

    client.bind(('localhost', 8080))
    # 这里配置要连接的服务端地址和端口号

    client.connect(('localhost', 8081))
    while True:
        text = input('请输入要传输的数据:')
        # 向服务端发送数据

        client.send(text.encode(encoding='utf-8'))
        # 接受服务端返回的数据，参数表示定要接收的最大数据量

        msg = client.recv(1024)
        msg = msg.decode(encoding='utf-8')
        print('服务端返回：', msg)
        if msg == 'quit':
            print('服务端请求断开连接！！！')
            break
    # 关闭客户端socket
    
    client.close()
```






