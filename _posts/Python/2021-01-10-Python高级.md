---
layout:     post                    # 使用的布局（不需要改）
title:      Python高级语法    		# 标题 
subtitle:    						#副标题
date:       2021-01-10              # 时间
author:     新宇                     # 作者
header-img: img/post-bg-2015.jpg    #这篇文章标题背景图片
catalog: true                       # 是否归档
tags:                               #标签
    - Python
---

# 一、闭包
## 1. 作用
内部函数保存外部函数的参数

## 2.闭包定义
- 函数嵌套
- 内部函数使用外部函数的参数
- 外部函数返回了内部函数

## 3.代码格式

```python
def func_out(num1):
    def func_inner(num2):
        num = num1+num2
        return num
    return func_inner


f = func_out(10)
print(f(1))
print(f(2))
```

## 4.内部函数修改外部函数变量

```python
def func_out(num1):
    def func_inner(num2):
        # 这里声明num1，是外部函数变量

        nonlocal num1
        # 如果不声明nonlocal，则会创建局部变量num1

        num1 = num1 + num2
        return num1
    print(num1)
    func_inner(10)
    print(num1)
    return func_inner

func_out(10)
```

# 二、装饰器
## 1. 作用
1. 给已有函数增加额外功能的函数，它本质上就是一个闭包函数
2. 装饰器的功能特点:
	- 不修改已有函数的源代码
	- 不修改已有函数的调用方式
	- 给已有函数增加额外的功能

## 2.代码实现

	```python
	def check(f):
    def inner():
        print('开始验证')
        f()
        print('登陆成功')
    return inner


	@check
	def login():
	    print('开始登陆!')

	login()

	# 注意：@check等价于 login = check(login)
	
	```

	